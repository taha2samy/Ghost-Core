# ===========================================================================================================
# MODULES DEFINITION FILE
# ===========================================================================================================
# FORMAT:
# Name | Type | URL | SHA256 | Configure Flag
#
# COLUMNS EXPLANATION:
# 1. Name:     Module name (used in profiles.def).
# 2. Type:     'internal' (built-in) or 'external' (downloaded).
# 3. URL:      Download link for external modules (use '-' for internal).
# 4. SHA256:   The security hash. REPLACE '-' WITH THE ACTUAL HASH string to enable verification.
# 5. Flag:     The ./configure argument. Use {{DIR}} as a placeholder for the module source path.
# ===========================================================================================================

# --- INTERNAL MODULES (Part of Nginx Source) ---------------------------------------------------------------
# No URL or SHA needed here because they are bundled with the main Nginx tarball.
http_image_filter | internal | - | - | --with-http_image_filter_module=dynamic
http_xslt         | internal | - | - | --with-http_xslt_module=dynamic
http_geoip        | internal | - | - | --with-http_geoip_module=dynamic
mail              | internal | - | - | --with-mail=dynamic
stream            | internal | - | - | --with-stream=dynamic
stream_geoip      | internal | - | - | --with-stream_geoip_module=dynamic
http_perl         | internal | - | - | --with-http_perl_module=dynamic

# --- EXTERNAL MODULES (Downloaded from GitHub) -------------------------------------------------------------
# NJS (Nginx JavaScript)
njs | external | https://github.com/nginx/njs/archive/refs/tags/0.9.4.tar.gz | 7b3a9f14b0f09311d9031c2a252cb0e23c06baac2e586a7d12c75aa6cba4ca0e | --add-dynamic-module={{DIR}}/nginx

# Headers More (Security/Header Manipulation)
headers_more | external | https://github.com/openresty/headers-more-nginx-module/archive/refs/tags/v0.38.tar.gz | febf7271c0c3de69adbd02c1e98ee43e91a60eeb6b27abfb77b5b206fda5215a | --add-dynamic-module={{DIR}}

# Echo (Debugging)
echo | external | https://github.com/openresty/echo-nginx-module/archive/refs/tags/v0.64.tar.gz | 6f43f56d7e7e8526716bbda06b300f0119912eede47b3a48bb948252a1fb38c8 | --add-dynamic-module={{DIR}}

# Brotli (Compression - Requires libbrotli-dev)
brotli | external | https://github.com/google/ngx_brotli/archive/refs/tags/v1.0.0rc.tar.gz | c85cdcfd76703c95aa4204ee4c2e619aa5b075cac18f428202f65552104add3b | --add-dynamic-module={{DIR}}

# GeoIP2 (Modern GeoIP - Requires libmaxminddb-dev)
geoip2 | external | https://github.com/leev/ngx_http_geoip2_module/archive/refs/tags/3.4.tar.gz |ad72fc23348d715a330994984531fab9b3606e160483236737f9a4a6957d9452 | --add-dynamic-module={{DIR}}

# Cache Purge
cache_purge | external | https://codeload.github.com/FRiCKLE/ngx_cache_purge/tar.gz/refs/tags/2.3 | cb7d5f22919c613f1f03341a1aeb960965269302e9eb23425ccaabd2f5dcbbec | --add-dynamic-module={{DIR}}

# Subs Filter (Find & Replace in body)
subs_filter | external | https://codeload.github.com/yaoweibin/ngx_http_substitutions_filter_module/tar.gz/refs/tags/v0.6.4 | ed4ddbcf0c434f4a1e97b61251a63ace759792764bd5cb79ff20efe348db8db3 | --add-dynamic-module={{DIR}}

# Cookie Flag (Secure Cookies)
cookie_flag | external | https://github.com/AirisX/nginx_cookie_flag_module/archive/refs/tags/v1.1.0.tar.gz | 9915ad1cf0734cc5b357b0d9ea92fec94764b4bf22f4dce185cbd65feda30ec1 | --add-dynamic-module={{DIR}}

# Auth PAM (Authentication)
auth_pam | external | https://github.com/sto/ngx_http_auth_pam_module/archive/refs/tags/v1.5.5.tar.gz | 98a71617d9119ae784993e3789ce8766fdf2ff2479691f3dc6cf8d8763f8d364 | --add-dynamic-module={{DIR}}

# WebDAV Extended
dav_ext | external | https://github.com/arut/nginx-dav-ext-module/archive/refs/tags/v3.0.0.tar.gz | d2499d94d82d4e4eac8425d799e52883131ae86a956524040ff2fd230ef9f859 | --add-dynamic-module={{DIR}}

# VTS (Traffic Status Metrics)
vts | external | https://github.com/vozlt/nginx-module-vts/archive/refs/tags/v0.2.2.tar.gz | - | --add-dynamic-module={{DIR}}